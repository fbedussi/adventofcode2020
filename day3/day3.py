from functools import reduce

data = ['.........#....#.###.........##.', '..###.#......#......#.......##.', '##....#.#.......#.....#........', '#........#..........#.#...#...#', '#....###...##.....#........#...', '###..............##..#.....#...', '.................##.#..........', '.........##......#..###.....#.#', '..#..#...#.#.#...#.#.#.##...#..', '..............#.#.#..#..#..#...', '.#.#.#....#.........#.........#', '..#.#....##..#...#.....#..##..#', '............#.....#.........##.', '...#.#..#..........#.##.....#..', '#......#...##.......###........', '.....#....#.#..............#...', '.....#.......#..##.###.....#.#.', '.#.....#....##.#......##......#', '..##...##.........#..#.#..#....', '............#.......#.....#....', '.......................#...####', '.#.#.......#..#....#....##..#.#', '..#.##.#.#...............#.....', '#..##..#...#.....##..#...##.#..', '##...#....#####.....##...#...##', '.#..##..#..#.#..##.#.#........#', '....#..#........##......#.#....', '..#......#...##.#..##.......#..', '.#.#....#.#..#.....#..#...#....', '.....#.#.................#.....', '##.#........#.....#...........#', '#............#.....#..#.#...##.', '..#.#..#......#.......#......##', '....#.#....#...#....#..........', '.........#...#.##..#...#...#...', '....#...#...#..................', '..##...#.#....#...#......#.....', '#....#.......##..#...#..#......', '.#....##..#.#....#...##...#....', '#.................#...#.#...#..', '.#.....#..........#.......#....', '.#..........#.##....#.##......#', '#.#.....##.##..#.......#..#....', '.....#...#............#..##....', '...#.#.##.#..........#.#....#..', '.......#...#............#.....#', '..........#...##..#....###....#', '............#....#......###....', '...................####..#.##..', '...#.#.##.........#..#.#.......', '...........#.........#..###....', '.........#.........#...#...###.', '.#.#.##....#.#...........#.#...', '..###.....#...#.#.......##..#..', '.....#.#........#.#....#....##.', '......#...#........#.........#.', '...............#.........#.#...', '..#...#...#...#.###..###....#..', '#..#.......#..###.##.......#...', '#.#.........##..#.....###..#..#', '...#....#....#.#..#............', '..###..##....................#.', '..#.......#..........#.##......', '..##........#...###..##.#......', '......#.#...#.....#..##..#.....', '#........#......#..............', '........#........#.......#....#', '.....#.......#......#........##', '#.#......#.#...##.#.......#....', '#...................##...#.....', '..#.#...#..#...#..#.....#..#...', '.......##..................##..', '.............#..##.#......##..#', '###...........##.#....###..#...', '.#..........##...#..#......#...', '..#.###.#....#........#........', '....#....###.....#.......#.....', '.....##....#..##...#..#........', '.##...#..#....#..#.........#...', '#.........##....#..##..##......', '.#.#.............#.....##......', '..#.#............#.......##.#..', '..#.##..#.........#......#.#.#.', '.#...#...#..#....#...#....#.#.#', '....#...#..#.##..##.......##...', '.#.....#.....#............#....', '..........#....#..#..#......#..', '.............#....#..#.........', '....#.#.#.......#....#.#.......', '..##....#.#....#...#........###', '#...#..........#..........###..', '...#..#...#...#..##......#...#.', '.....................#...#..#.#', '#..#............#.........#.##.', '..#...#...........#.......#....', '.....##..........#...##.....##.', '.#.....#.#........##...........', '..#....#..#.#..##...#.........#', '.........#.###.##....#..###....', '.........#...##...##.#.#....##.', '...#..##.#...........#....#....', '..........#.#...........##.....', '...........#..........#...##...', '.........#..........#...#.#...#', '......#..#.................#...', '.....#...........#..#...#..###.', '.....#..#....#.#.##...##....##.', '...##.###.#.#..#.#....##.#.#...', '###.....#.....#........#...#...', '.#....#........#.#....#..#...##', '##.....#.....#......#.#..#...##', '.##....#...............#.......', '#.#.....#.#....#.........#.....', '..#...............#.......##...', '#...#.###..#....#.#.#..#.#.....', '##.###....##...#....#.....#....', '.......#................##.....', '....#....##..#....#..#......#..', '...#.........#...#........##.##', '.#..............#..............', '..##.......#.###..##.#.........', '..#...#...#...#...#...#.....##.', '.....#..##...#.....##..#.#.....', '..#.............#...#.........#', '#.........................#..##', '.............#..###........#...', '......#..#....#.##.......#..#..', '...#..#..#...#....#..#...##...#', '.##............#.......###.#...', '.#........#..#.................', '#.#.#.....##....##...#.....#.#.', '...##.......#.#......#...#.#...', '#.##....#.........#.....##...#.', '#...#..#....#.......#.##...##..', '.................##.#..##.#.#.#', '..#.............#.......#.#.##.', '#....##..................#...##', '..........#.......#..##........', '......#.#..#......#.#.........#', '#.#........#####......#.#.#....', '#..#........#.#..#.....#.......', '...#.............#.............', '.....#.......#......#..#.##..#.', '..#.........#..........#.##...#', '#.....#.#####......#.......###.', '.......#.....#...#.....#.#..#..', '#...#.#........#.#..#..#...#..#', '...#....#....##.....#..........', '.#.......##.......##...........', '...#.##.#.#..#....#...##....##.', '.#...#...#.........#...........', '.#.#.##..#.......#.#...#..#....', '.#....##.#.#...#......#......#.', '##..#..#..#..#.......#......#..', '.........#.#...........#....#.#', '........#....#.#...#.#..#......', '#.......#.#.................##.', '.....#..#..#....#.#........#.##', '.#..###..#....#..#........#.#..', '#...........#...#........#.....', '........#..#.#.#.#.......#....#',
        '....#..#..........#.#..#.....#.', '..####..........#..............', '....###.#..#........##..#......', '.#..#......##..........#...#...', '.#.....#....#......##.##...#.##', '..##.#.#......#.......##.......', '....##.......#..............#..', '........#.....##..............#', '.#...#....##.....#....#.......#', '....#.......###.......#.#.#....', '##.....##........#.....##......', '..........#.....#...##.#..#.#..', '..........#.#......#..........#', '..........#...#..#...#...#.....', '.#.......#..##.................', '.#........##..............#..#.', '.##...................#...#....', '.##....#.##.##........#........', '...##.....####.....#..#.......#', '...##.#...##...#.##............', '##.......#.....###..#..#...##..', '#.####...#...#...##..#..#....#.', '...#........##........#........', '#....#.#....##..#..#.##...#....', '...##....##....#.......#..###..', '..........#..#..........#..#.#.', '#..#....#.......#.......#....#.', '......#......#.....##..##.#..#.', '##.#.....#....#.......#...#...#', '..##..#.#...#...#.....###..##..', '....#..#.......#............##.', '#..##.#.#.....#####....#....#..', '.#........#...#.#..##.#.####.#.', '#...#...#.............#.#......', '.........#.....##..........#...', '.##....#....#........#......#.#', '#..###...#....#..........#.....', '.#...##.........#..#..#.#...#..', '#.#.#.......................#..', '#.....#..#.#............###....', '#...#.....#.....###..#..#.#.##.', '............#.........#.#.##...', '...#.......###......##......#..', '.#....#.#....##......##.#...#..', '.........#.......#....#...##..#', '................#.#.....#....#.', '.##......#....#..#..###..#...#.', '....##....#..#....#.##..#......', '.......#.#.....#..#............', '..........#....#....#..#..#....', '..#....#.....#.......#.........', '......#.........#.##..#....##.#', '..#..#.#.......##..#...##......', '...##..#.#.#...............##..', '..#.#.#......#....#.....#.##...', '..#.....#.#...........#....##..', '###.....##.....................', '.......#..#.................#..', '.#.#..#..#.........#......#...#', '##.......#.##.......#..........', '#..#.....#.....#.....#.......#.', '#..#.....#.....#..........#.#..', '.#....##....#.....#.......#.##.', '.....#.#......##..##.#.........', '#....##......#..#....#..##..#..', '#.##..#..#..............#...#..', '.#......#......#..#...........#', '..#.......#........#....#..#...', '.....##.#.......##....#.#....#.', '........#....................#.', '........#..#..........#........', '......#.#.....#.#.....#......#.', '#......##......###.##......#...', '...........###..#...#.......#..', '..#...###...#.....#....#...#..#', '.....##......#.#......##..#.#..', '#.#......##...#.....##...#...#.', '.#.#........#.......#.........#', '....#....#...##..........#.#...', '.#..##.#...#.#.....##......##..', '.#.....#..##....#....#....#..#.', '..#.......#.#.#..........#..#..', '#.#..#....#.##....#.......#....', '........##.........#..#.#......', '.......#.....#.##..##......#.#.', '.........................#.#.#.', '..#..............##.........#..', '.......###.#.#.......#.........', '#........#.....#.......#..#...#', '##....#..#....#...........#....', '..#..#.#.#.....#.#..#....#.....', '.#..##....#.##..#..............', '...#....##..#..#.##....#.#.....', '...##....#......##..#........#.', '....#......#....#....#........#', '...#..#...#.#...........#..#..#', '....#.#.#.........#...#...#....', '..........#....#......##....#.#', '..##..#...##.#...###.#.##......', '#........#.##......##.#........', '..#...#.##...#..........#.#...#', '...........#...........#.......', '......###....#..###..##........', '...#........#..#.#.............', '....#.#.....#.#............#..#', '##.#.....#........#....##.....#', '.......#.#...#..##.......#.#.#.', '#......##..#..#...#.....#..#.#.', '.#......###.....#..#.....#...#.', '....#.#.............#.##.......', '......#....#.....#.......#..#..', '#..#.#.#..#......#...#..#.#....', '#..............#.#....#...#....', '..#......#...##.#......#..#..#.', '.......##..#.##..#.#...#.....##', '.....#...........#....#.......#', '.#.........#..#..........##....', '#..##..#.#......##.......#..#..', '...#....#...........##.#.#.#..#', '#..#..#..#...........#....#.#.#', '.....##......#......#.#...#....', '.....#..##....###.....#....##..', '........#...##......#.....#..#.', '..#.#..#.#....#...#.......#....', '#.....#...#.....#.#.......#....', '......#...#.......#..##....#...', '#............#.....#....#......', '..##...#.....#..#......#...#...', '...#..#...#..#.......#........#', '...##.#.#........#........#....', '#.#..#......##.#..#..#......#..', '#.......#..#...................', '#.....#....#......#...........#', '.##.#...#.#...#..............##', '...###........#........#..##.#.', '..##....#.#.#.##..#.#......#...', '..#.#........#..............#..', '.......#.................##....', '..................#............', '....#.....#.#..............#.##', '......#.....#..#......#...#....', '..#....##......#...####....#.#.', '..........#...##...........##.#', '...#.#..#....#......#..#....#..', '#.........###...#.....#..#....#', '.#.#......##.#.....#...........', '...............#.#....##..#..#.', '..........#.#.#.#...#....##...#', '...#....##.................##..', '#..##..#...##.##.#......#.#.###', '#..#...#..#.....#...#.#..##...#', '..#................#...##....#.', '...#.....#.##.......##....#.#..', '....#.....#..#....##...........', '...............#..........#....', '....#...#........##...#........', '...#....#...#.###..............', '#.#....#.......#..#.##.##......', '.#.....#..#..#......#....#.#...', '...#..........................#', '............#.#..#.##......#...', '.....#..........#.#........#.#.']


def findTrees(right, down):
    tot = 0
    col = 0
    row = 0
    while row < len(data):
        rowLength = len(data[row])
        isTree = data[row][col % rowLength] == '#'
        # print(row, col)
        # print(data[row], col % rowLength,
        #       data[row][col % rowLength], isTree)
        if isTree:
            tot += 1

        col += right
        row += down

    return tot


trees = findTrees(3, 1)
print('result1', trees)


paths = [[1, 1], [3, 1], [5, 1], [7, 1], [1, 2]]

trees2 = map(lambda path: findTrees(path[0], path[1]), paths)
print('result2', reduce(lambda a, b: a*b, trees2))
